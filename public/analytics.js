var analytcs={endPoint:"/analytics/visit",session:null,user:null,app:null,init:function(e){this.session=this.getSessionStorageKey("session"),this.user=this.getLocalStorageKey("uuid"),this.user||(this.user=this.makeUniqueId(),this.setLocalStorageKey("uuid",this.user)),this.session||(this.session=this.makeSessionId(),this.setSessionStorageKey("session",this.session)),this.app=e,this.ping()},setLocalStorageKey:function(e,t){localStorage.setItem(e,t)},getLocalStorageKey:function(e){for(var t=0;t<localStorage.length;t++)if(localStorage.key(t)==e)return localStorage.getItem(localStorage.key(t));return!1},setSessionStorageKey:function(e,t){sessionStorage.setItem(e,t)},getSessionStorageKey:function(e){for(var t=0;t<sessionStorage.length;t++)if(sessionStorage.key(t)==e)return sessionStorage.getItem(sessionStorage.key(t));return!1},makeUniqueId:function(){var e=Math.floor(1e5*Math.random()+1),t=new Date;return t.getDay()+"_"+t.getMonth()+"_"+t.getYear()+"_"+e+"_"+t.getSeconds()+"_"+t.getMilliseconds()+"_"+t.getMinutes()+"_"+t.getHours()},makeSessionId:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)});return t},getParams:function(){var e=[];if(this.app.length)for(var t=0;t<this.app.length;t++)e.push(this.app[t][0]+"="+this.app[t][1]);return e.join("&")},getRequest:function(){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},ping:function(){this.app.push(["referer",document.referrer]),this.app.push(["location",location.href]),this.app.push(["uuid",this.user]);var e=this.getRequest();e.open("GET",this.endPoint+"?q="+JSON.stringify(this.app),!0),e.send()}};analytcs.init(_bc);